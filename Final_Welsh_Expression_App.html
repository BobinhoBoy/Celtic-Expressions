<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welsh Expressions Lexicon</title>
    <style>
        /* Welsh-inspired color palette */
        :root {
            --dragon-red: #C8102E;
            --welsh-green: #00B04F;
            --leek-green: #228B22;
            --cream: #f5f5dc;
            --daffodil-yellow: #FFD700;
            --stone: #8c8c8c;
            --slate-grey: #708090;
            --cymru-blue: #003f7f;
            --valley-mist: #e6ffe6;
            --coal-black: #2F4F4F;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Garamond', 'Georgia', 'Times New Roman', serif;
            background: linear-gradient(135deg, var(--valley-mist) 0%, var(--cream) 50%, #f0fff0 100%);
            background-attachment: fixed;
            color: #333;
            line-height: 1.7;
            min-height: 100vh;
            position: relative;
        }
        
        /* Welsh daffodil pattern overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 20%, var(--daffodil-yellow) 1px, transparent 1px),
                radial-gradient(circle at 80% 80%, var(--leek-green) 1px, transparent 1px);
            background-size: 110px 110px, 160px 160px;
            opacity: 0.03;
            pointer-events: none;
            z-index: -1;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 60px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px;
            background: linear-gradient(135deg, var(--dragon-red) 0%, var(--welsh-green) 50%, var(--dragon-red) 100%);
            color: white;
            border-radius: 20px;
            box-shadow: 
                0 15px 35px rgba(0,0,0,0.3),
                inset 0 1px 0 rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
            border: 3px solid var(--daffodil-yellow);
        }
        
        /* Enhanced Welsh pattern */
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 14px,
                    var(--welsh-green) 14px,
                    var(--welsh-green) 16px,
                    transparent 16px,
                    transparent 30px,
                    var(--daffodil-yellow) 30px,
                    var(--daffodil-yellow) 32px
                ),
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 20px,
                    var(--welsh-green) 20px,
                    var(--welsh-green) 22px,
                    transparent 22px,
                    transparent 40px,
                    var(--daffodil-yellow) 40px,
                    var(--daffodil-yellow) 42px
                );
            opacity: 0.12;
        }
        
        h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 
                3px 3px 6px rgba(0,0,0,0.5),
                0 0 20px rgba(255,215,0,0.3);
            position: relative;
            z-index: 1;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        
        /* Welsh motto styling */
        .subtitle {
            font-size: 1.4rem;
            opacity: 0.95;
            position: relative;
            z-index: 1;
            font-style: italic;
            font-weight: 300;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }
        
        .motto {
            font-size: 1rem;
            opacity: 0.8;
            position: relative;
            z-index: 1;
            font-style: italic;
            color: var(--daffodil-yellow);
            text-transform: lowercase;
            letter-spacing: 0.5px;
        }
        
        /* Welsh Dragon Flag */
        .dragon-flag {
            width: 60px;
            height: 40px;
            position: relative;
            display: inline-block;
            margin: 0 15px;
            border: 2px solid var(--daffodil-yellow);
            border-radius: 4px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            overflow: hidden;
            background: white;
        }
        
        .dragon-flag::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: white;
        }
        
        .dragon-flag::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: var(--welsh-green);
        }
        
        /* Welsh Dragon SVG */
        .dragon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 24px;
            height: 16px;
            z-index: 2;
        }
        
        .dragon svg {
            width: 100%;
            height: 100%;
            fill: var(--dragon-red);
            filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));
        }
        
        .header-flags {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
            position: relative;
            z-index: 2;
        }
        
        .flag-label {
            color: var(--daffodil-yellow);
            font-size: 0.9rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 0 10px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        
        .search-box {
            padding: 15px 25px;
            border: 3px solid var(--dragon-red);
            border-radius: 30px;
            font-size: 1.1rem;
            width: 350px;
            max-width: 100%;
            outline: none;
            transition: all 0.4s ease;
            background: rgba(255,255,255,0.95);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            font-family: 'Garamond', 'Georgia', serif;
        }
        
        .search-box:focus {
            border-color: var(--welsh-green);
            box-shadow: 
                0 0 20px rgba(0,176,79,0.4),
                0 8px 25px rgba(0,0,0,0.2);
            transform: translateY(-2px);
        }
        
        .view-toggle {
            display: flex;
            background: white;
            border-radius: 30px;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            border: 2px solid var(--stone);
        }
        
        .view-btn {
            padding: 15px 25px;
            border: none;
            background: white;
            color: var(--dragon-red);
            cursor: pointer;
            font-weight: bold;
            transition: all 0.4s ease;
            font-family: 'Garamond', 'Georgia', serif;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .view-btn.active {
            background: linear-gradient(135deg, var(--dragon-red), var(--welsh-green));
            color: white;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .lexicon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .lexicon-list {
            display: none;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
            overflow: hidden;
            border: 2px solid var(--daffodil-yellow);
        }
        
        .expression-card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 
                0 12px 35px rgba(0,0,0,0.15),
                inset 0 1px 0 rgba(255,255,255,0.8);
            transition: all 0.4s ease;
            border: 2px solid transparent;
            position: relative;
            backdrop-filter: blur(10px);
        }
        
        .expression-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--dragon-red), var(--daffodil-yellow), var(--welsh-green));
            border-radius: 20px 20px 0 0;
        }
        
        .expression-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 20px 50px rgba(0,0,0,0.25),
                0 0 30px rgba(200,16,46,0.2);
            border-color: var(--dragon-red);
        }
        
        .expression-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--daffodil-yellow);
        }
        
        .expression-number {
            background: linear-gradient(135deg, var(--dragon-red), var(--coal-black));
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.3rem;
            margin-right: 20px;
            box-shadow: 
                0 6px 15px rgba(0,0,0,0.3),
                inset 0 1px 0 rgba(255,255,255,0.2);
            border: 2px solid var(--daffodil-yellow);
        }
        
        .expression-title {
            font-size: 1.7rem;
            color: var(--dragon-red);
            font-weight: bold;
            flex-grow: 1;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            font-family: 'Garamond', 'Georgia', serif;
        }
        
        .expression-meaning {
            color: var(--coal-black);
            font-style: italic;
            margin-bottom: 18px;
            font-size: 1.15rem;
            line-height: 1.6;
        }
        
        .expression-history {
            color: #555;
            font-size: 1rem;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .translations {
            display: flex;
            gap: 18px;
            margin-top: 20px;
        }
        
        .translation {
            flex: 1;
            padding: 15px;
            border-radius: 12px;
            font-size: 0.95rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .english {
            background: linear-gradient(135deg, var(--valley-mist), #d4f6da);
            border-left: 5px solid var(--welsh-green);
            border-top: 2px solid rgba(0,176,79,0.3);
        }
        
        .french {
            background: linear-gradient(135deg, #fff0f0, #fce4ec);
            border-left: 5px solid var(--dragon-red);
            border-top: 2px solid rgba(200,16,46,0.3);
        }
        
        .translation-label {
            font-weight: bold;
            font-size: 0.85rem;
            text-transform: uppercase;
            margin-bottom: 8px;
            opacity: 0.8;
            letter-spacing: 0.5px;
        }
        
        .list-item {
            display: flex;
            align-items: center;
            padding: 20px 25px;
            border-bottom: 2px solid var(--cream);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .list-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--dragon-red), var(--welsh-green));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .list-item:hover {
            background: linear-gradient(135deg, var(--valley-mist), rgba(255,255,255,0.8));
            transform: translateX(5px);
        }
        
        .list-item:hover::before {
            opacity: 1;
        }
        
        .list-item:last-child {
            border-bottom: none;
        }
        
        .list-number {
            background: linear-gradient(135deg, var(--dragon-red), var(--welsh-green));
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1rem;
            margin-right: 20px;
            flex-shrink: 0;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            border: 2px solid var(--daffodil-yellow);
        }
        
        .list-content {
            flex-grow: 1;
        }
        
        .list-title {
            font-size: 1.3rem;
            color: var(--dragon-red);
            font-weight: bold;
            margin-bottom: 6px;
            font-family: 'Garamond', 'Georgia', serif;
        }
        
        .list-meaning {
            color: var(--coal-black);
            font-style: italic;
            font-size: 1rem;
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-top: 40px;
            margin-bottom: 0;
            padding: 30px;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border: 3px solid var(--daffodil-yellow);
            position: relative;
        }
        
        .stats::before {
            content: 'üêâ';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 0 15px;
            font-size: 1.5rem;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--dragon-red);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            font-family: 'Garamond', 'Georgia', serif;
        }
        
        .stat-label {
            color: var(--coal-black);
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #666;
            font-style: italic;
        }
        
        .expression-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-y: auto;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 700px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }
        
        @keyframes modalSlideIn {
            from {
                transform: scale(0.9) translateY(-20px);
                opacity: 0;
            }
            to {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }
        
        /* Enhanced modal styling with Welsh elements */
        .modal-header {
            background: linear-gradient(135deg, var(--dragon-red) 0%, var(--welsh-green) 50%, var(--dragon-red) 100%);
            color: white;
            padding: 40px;
            border-radius: 20px 20px 0 0;
            position: relative;
            overflow: hidden;
            border-bottom: 4px solid var(--daffodil-yellow);
        }
        
        .modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 22px,
                    var(--welsh-green) 22px,
                    var(--welsh-green) 24px
                ),
                repeating-linear-gradient(
                    -45deg,
                    transparent,
                    transparent 28px,
                    var(--daffodil-yellow) 28px,
                    var(--daffodil-yellow) 30px
                );
            opacity: 0.1;
        }
        
        .modal-header::after {
            content: 'Cymru am Byth';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 0 20px;
            font-size: 1rem;
            color: var(--dragon-red);
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        .close-btn {
            position: absolute;
            top: 20px;
            right: 25px;
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .modal-expression-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }
        
        .modal-expression-number {
            background: var(--welsh-green);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            margin-right: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        
        .modal-expression-title {
            font-size: 2.8rem;
            font-weight: bold;
            text-shadow: 
                3px 3px 6px rgba(0,0,0,0.3),
                0 0 20px rgba(255,215,0,0.2);
            font-family: 'Garamond', 'Georgia', serif;
            letter-spacing: 1px;
        }
        
        .modal-expression-meaning {
            font-size: 1.4rem;
            font-style: italic;
            opacity: 0.95;
            position: relative;
            z-index: 1;
            color: var(--daffodil-yellow);
            margin-top: 10px;
        }
        
        .modal-body {
            padding: 40px;
            background: linear-gradient(135deg, rgba(255,255,255,0.95), var(--valley-mist));
        }
        
        .modal-section {
            margin-bottom: 25px;
        }
        
        .modal-section-title {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--dragon-red);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .modal-section-title::before {
            content: "üêâ";
            margin-right: 12px;
            font-size: 1.3rem;
        }
        
        .modal-section-content {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #555;
        }
        
        .modal-translations {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .modal-translation {
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .modal-translation.english {
            background: linear-gradient(135deg, var(--valley-mist), #d4f6da);
            border-left: 5px solid var(--welsh-green);
        }
        
        .modal-translation.english::before {
            content: 'üá¨üáß';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.2rem;
        }
        
        .modal-translation.french {
            background: linear-gradient(135deg, #fff0f0, #fce4ec);
            border-left: 5px solid var(--dragon-red);
        }
        
        .modal-translation.french::before {
            content: 'üá´üá∑';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.2rem;
        }
        
        .modal-translation-label {
            font-weight: bold;
            font-size: 1rem;
            text-transform: uppercase;
            margin-bottom: 8px;
            opacity: 0.8;
        }
        
        .modal-translation-text {
            font-size: 1.1rem;
            font-weight: 500;
        }
        
        .clickable {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .clickable:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .lexicon-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .search-box {
                width: 100%;
                max-width: 400px;
            }
            
            .translations {
                flex-direction: column;
            }
            
            .stats {
                flex-direction: column;
                gap: 20px;
            }
            
            .modal-translations {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .modal-header {
                padding: 25px;
            }
            
            .modal-body {
                padding: 25px;
            }
            
            .modal-expression-title {
                font-size: 2rem;
            }
            
            .stats {
                gap: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Welsh Expressions Lexicon</h1>
            <p class="subtitle">Explore the vibrant heritage of Welsh language and culture</p>
            <div class="header-flags">
                <div class="dragon-flag">
                    <div class="dragon">
                        <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
                            <!-- Welsh Dragon SVG -->
                            <path d="M2 8c0-1 1-2 2-2h2l1-1h2l1 1h2c1 0 2 1 2 2v1l2-1 2 1v1l2 1-1 1-2-1v1c0 1-1 2-2 2h-2l-1 1h-2l-1-1H4c-1 0-2-1-2-2V8z"/>
                            <path d="M6 6l1-1 1 1-1 1-1-1zm8 0l1-1 1 1-1 1-1-1z"/>
                            <path d="M8 9l2-1 2 1-2 1-2-1z"/>
                            <path d="M4 8l1-1v2l-1-1zm12 0l1-1v2l-1-1z"/>
                        </svg>
                    </div>
                </div>
                <span class="flag-label">üêâ Wales Forever üêâ</span>
                <div class="dragon-flag">
                    <div class="dragon">
                        <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
                            <!-- Welsh Dragon SVG -->
                            <path d="M2 8c0-1 1-2 2-2h2l1-1h2l1 1h2c1 0 2 1 2 2v1l2-1 2 1v1l2 1-1 1-2-1v1c0 1-1 2-2 2h-2l-1 1h-2l-1-1H4c-1 0-2-1-2-2V8z"/>
                            <path d="M6 6l1-1 1 1-1 1-1-1zm8 0l1-1 1 1-1 1-1-1z"/>
                            <path d="M8 9l2-1 2 1-2 1-2-1z"/>
                            <path d="M4 8l1-1v2l-1-1zm12 0l1-1v2l-1-1z"/>
                        </svg>
                    </div>
                </div>
            </div>
            <p class="motto">"Gwell angau na chywilydd" - Better death than dishonor</p>
        </header>
        
        <div class="controls">
            <input type="text" class="search-box" placeholder="Search expressions..." id="searchInput">
            <div class="view-toggle">
                <button class="view-btn active" id="gridView">Grid View</button>
                <button class="view-btn" id="listView">List View</button>
            </div>
        </div>
        
        <div class="lexicon-grid" id="lexiconGrid">
            <!-- Cards will be populated by JavaScript -->
        </div>
        
        <div class="lexicon-list" id="lexiconList">
            <!-- List items will be populated by JavaScript -->
        </div>
        
        <!-- Modal for full expression view -->
        <div class="expression-modal" id="expressionModal">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close-btn" id="closeModal">&times;</button>
                    <div class="modal-expression-header">
                        <div class="modal-expression-number" id="modalNumber">1</div>
                        <div class="modal-expression-title" id="modalTitle">Expression</div>
                    </div>
                    <div class="modal-expression-meaning" id="modalMeaning">Meaning</div>
                </div>
                <div class="modal-body">
                    <div class="modal-section">
                        <div class="modal-section-title">History & Etymology</div>
                        <div class="modal-section-content" id="modalHistory">History content</div>
                    </div>
                    
                    <div class="modal-section">
                        <div class="modal-section-title">Translations</div>
                        <div class="modal-translations">
                            <div class="modal-translation english">
                                <div class="modal-translation-label">English</div>
                                <div class="modal-translation-text" id="modalEnglish">English translation</div>
                            </div>
                            <div class="modal-translation french">
                                <div class="modal-translation-label">Fran√ßais</div>
                                <div class="modal-translation-text" id="modalFrench">French translation</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-number" id="totalExpressions">50</div>
                <div class="stat-label">Total Expressions</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="displayedExpressions">50</div>
                <div class="stat-label">Displayed</div>
            </div>
            <div class="stat">
                <div class="stat-number">800+</div>
                <div class="stat-label">Years of History</div>
            </div>
        </div>
    </div>
    
    <script>
        // Welsh expressions data (50 authentic Welsh expressions)
        const expressions = [
            {
                id: 1,
                expression: "Cwtch",
                meaning: "A warm, affectionate hug or a cozy, safe place.",
                history: "This uniquely Welsh word has no direct English equivalent. Dating back centuries in Welsh, 'cwtch' (pronounced 'kutch') comes from the Welsh 'cwtsho' meaning to hide or shelter. It embodies the Welsh concept of warmth, safety, and affection all in one word.",
                english: "Cuddle/hug/cozy place",
                french: "C√¢lin/√©treinte/endroit douillet"
            },
            {
                id: 2,
                expression: "Tidy",
                meaning: "Good, nice, or alright - used as a general term of approval.",
                history: "In Welsh English, 'tidy' has evolved beyond its original meaning of neat and orderly. Since the early 20th century, it's been used throughout Wales to express approval or satisfaction with something, showing how Welsh communities adapted English words to their own cultural expressions.",
                english: "Good/nice/alright",
                french: "Bien/bon/d'accord"
            },
            {
                id: 3,
                expression: "Whose coat is that jacket?",
                meaning: "A humorous way of asking who owns a piece of clothing.",
                history: "This peculiarly Welsh way of speaking reflects the influence of Welsh grammar on English. In Welsh, you might say 'Pwy sy'n berchen ar y siaced yna?' which translates more literally to this construction, showing how Welsh sentence structure influences Welsh English.",
                english: "Whose jacket is that?",
                french: "√Ä qui est cette veste ?"
            },
            {
                id: 4,
                expression: "I'll be there now in a minute",
                meaning: "I'll be there soon (but not necessarily in exactly one minute).",
                history: "This Welsh expression demonstrates the relaxed attitude toward time in Welsh culture. 'Now in a minute' reflects the Welsh concept that time is fluid - you'll arrive when you arrive, and the journey and conversation along the way are just as important as punctuality.",
                english: "I'll be there soon",
                french: "J'arriverai bient√¥t"
            },
            {
                id: 5,
                expression: "Lush",
                meaning: "Lovely, great, or wonderful.",
                history: "Particularly popular in South Wales, 'lush' evolved from its original meaning of luxurious vegetation to describe anything pleasant or desirable. This transformation occurred in the mid-20th century and became a distinctly Welsh way of expressing enthusiasm.",
                english: "Lovely/great/wonderful",
                french: "Magnifique/super/merveilleux"
            },
            {
                id: 6,
                expression: "Butt",
                meaning: "Friend or mate (term of endearment).",
                history: "Used primarily in South Wales, particularly in the valleys, 'butt' is a term of endearment similar to 'mate' or 'buddy'. Its origins are uncertain but it's been part of Welsh English for over a century, possibly influenced by mining communities where close friendships were essential.",
                english: "Friend/mate/buddy",
                french: "Ami/copain/pote"
            },
            {
                id: 7,
                expression: "Tamping",
                meaning: "Very angry or furious.",
                history: "This expression comes from the mining industry where 'tamping' meant packing explosive charges tightly. The word evolved to describe the feeling of anger building up under pressure, ready to explode. It's been used in Welsh mining communities since the 19th century.",
                english: "Very angry/furious",
                french: "Tr√®s en col√®re/furieux"
            },
            {
                id: 8,
                expression: "Half tidy",
                meaning: "Quite good or reasonably well.",
                history: "This expression combines the Welsh use of 'tidy' meaning good with 'half' to create a moderate form of approval. It's been used in Wales since the early 20th century to express that something is acceptable but not exceptional.",
                english: "Quite good/reasonably well",
                french: "Assez bien/plut√¥t bon"
            },
            {
                id: 9,
                expression: "Where to?",
                meaning: "A greeting asking where someone is going.",
                history: "This distinctly Welsh greeting reflects the close-knit nature of Welsh communities where people naturally take interest in each other's activities. It's been a common way of acknowledging someone while showing friendly curiosity since the 19th century.",
                english: "Where are you going?",
                french: "O√π vas-tu ?"
            },
            {
                id: 10,
                expression: "Give us a cwtch",
                meaning: "Give me a hug.",
                history: "This phrase combines the English 'give us' (meaning 'give me') with the uniquely Welsh 'cwtch'. It's been used since the early 20th century and perfectly demonstrates how Welsh and English blend in everyday Welsh conversation.",
                english: "Give me a hug",
                french: "Fais-moi un c√¢lin"
            },
            {
                id: 11,
                expression: "Duw, duw",
                meaning: "An expression of mild surprise or concern.",
                history: "From the Welsh word 'Duw' meaning God, this expression is used as a mild exclamation similar to 'dear me' or 'oh my'. It's been part of Welsh speech for centuries and shows how Welsh religious expressions have been incorporated into everyday language.",
                english: "Dear me/oh my",
                french: "Mon Dieu/oh l√† l√†"
            },
            {
                id: 12,
                expression: "Mam",
                meaning: "Mother or mom.",
                history: "The Welsh word for mother, 'mam' is used throughout Wales regardless of whether someone speaks Welsh fluently. It comes directly from the Welsh language and has been maintained in Welsh English, showing the strong influence of Welsh on local speech patterns.",
                english: "Mother/mom",
                french: "Maman/m√®re"
            },
            {
                id: 13,
                expression: "Tad",
                meaning: "Father or dad.",
                history: "Like 'mam', 'tad' comes directly from Welsh and is used throughout Wales. It demonstrates how Welsh family terms have been preserved in Welsh English, maintaining cultural connections even when English is the primary language of communication.",
                english: "Father/dad",
                french: "Papa/p√®re"
            },
            {
                id: 14,
                expression: "Bore da",
                meaning: "Good morning.",
                history: "This Welsh greeting meaning 'good morning' is widely known throughout Wales, even among non-Welsh speakers. It's often used as a polite way to acknowledge Welsh heritage and show respect for the Welsh language in daily interactions.",
                english: "Good morning",
                french: "Bonjour"
            },
            {
                id: 15,
                expression: "Nos da",
                meaning: "Good night.",
                history: "The Welsh equivalent of 'good night', 'nos da' is commonly used throughout Wales. Like 'bore da', it's often used by non-Welsh speakers as a way of maintaining connection with Welsh culture and showing respect for the language.",
                english: "Good night",
                french: "Bonne nuit"
            },
            {
                id: 16,
                expression: "Shwmae",
                meaning: "Hello/how are you?",
                history: "A contraction of 'Sut mae?' (How is it?), 'shwmae' is a casual Welsh greeting that's become widely used throughout Wales. It's often the first Welsh phrase that non-Welsh speakers learn and represents the friendly, approachable nature of Welsh culture.",
                english: "Hello/how are you?",
                french: "Salut/comment √ßa va ?"
            },
            {
                id: 17,
                expression: "Ych a fi",
                meaning: "Expression of disgust (yuck!).",
                history: "This Welsh expression of disgust has been used for centuries and is still commonly heard throughout Wales. It's one of the Welsh phrases that's maintained its place in everyday speech, even among primarily English speakers.",
                english: "Yuck!/gross!",
                french: "Beurk !/d√©go√ªtant !"
            },
            {
                id: 18,
                expression: "By there",
                meaning: "Over there or in that direction.",
                history: "This construction reflects Welsh grammar where 'wrth' can mean 'by' or 'near'. The phrase 'by there' demonstrates how Welsh sentence structure influences Welsh English, creating expressions that sound unusual to speakers from other regions.",
                english: "Over there",
                french: "L√†-bas"
            },
            {
                id: 19,
                expression: "Chapel",
                meaning: "Any place of worship, not just specifically a chapel.",
                history: "In Wales, 'chapel' often refers to any place of worship due to the strong tradition of Nonconformist Christianity. This usage reflects the historical importance of Methodist and Baptist chapels in Welsh communities, which often outnumbered Anglican churches.",
                english: "Place of worship/church",
                french: "Lieu de culte/√©glise"
            },
            {
                id: 20,
                expression: "Over by",
                meaning: "Near to or close to a particular place.",
                history: "Another example of Welsh grammar influencing English, 'over by' follows Welsh prepositional patterns. This construction has been used in Welsh English for over a century and demonstrates the persistent influence of Welsh on local speech.",
                english: "Near to/close to",
                french: "Pr√®s de/√† c√¥t√© de"
            },
            {
                id: 21,
                expression: "Fair play",
                meaning: "Well done or that's only right.",
                history: "While used throughout Britain, 'fair play' has particular significance in Wales where it reflects cultural values of fairness and justice. It's been used since the 19th century to acknowledge when someone has done the right thing or achieved something praiseworthy.",
                english: "Well done/that's fair",
                french: "Bien jou√©/c'est juste"
            },
            {
                id: 22,
                expression: "Raining stair rods",
                meaning: "Raining very heavily.",
                history: "This vivid Welsh expression compares heavy rain to falling stair rods - the metal rods that hold stair carpets in place. It became popular in the early 20th century and perfectly captures the intensity of Welsh rainfall in colorful imagery.",
                english: "Raining heavily",
                french: "Il pleut des cordes"
            },
            {
                id: 23,
                expression: "Cowin'",
                meaning: "Complaining or moaning.",
                history: "This Welsh expression for complaining may come from the Welsh 'cwyno' meaning to complain. It's been used in South Wales for decades to describe someone who's constantly moaning or whinging about their circumstances.",
                english: "Complaining/moaning",
                french: "Se plaindre/r√¢ler"
            },
            {
                id: 24,
                expression: "Cracking",
                meaning: "Excellent or very good.",
                history: "Popular throughout Wales, 'cracking' is used to describe something excellent or first-rate. While used elsewhere in Britain, it has particular currency in Wales where it's been a common expression of approval since the mid-20th century.",
                english: "Excellent/very good",
                french: "Excellent/tr√®s bon"
            },
            {
                id: 25,
                expression: "Mint",
                meaning: "Great, excellent, or perfect.",
                history: "This modern Welsh slang term became popular in the late 20th century, particularly among younger Welsh speakers. Like mint condition meaning perfect, 'mint' evolved to describe anything considered excellent or desirable.",
                english: "Great/excellent/perfect",
                french: "Super/excellent/parfait"
            },
            {
                id: 26,
                expression: "Now then",
                meaning: "A greeting or way of getting someone's attention.",
                history: "This friendly greeting is particularly common in North Wales and reflects the warm, approachable nature of Welsh social interaction. It's been used for over a century as a way of acknowledging someone while inviting conversation.",
                english: "Hello there/well then",
                french: "Salut/eh bien"
            },
            {
                id: 27,
                expression: "Twp",
                meaning: "Stupid or daft.",
                history: "From the Welsh word 'twp' meaning stupid or foolish, this expression has crossed into Welsh English and is commonly used throughout Wales. It's often used affectionately rather than as a serious insult, especially among friends.",
                english: "Stupid/daft/silly",
                french: "Stupide/b√™te/idiot"
            },
            {
                id: 28,
                expression: "Sorted",
                meaning: "Problem solved or everything is arranged.",
                history: "While used throughout Britain, 'sorted' has particular currency in Wales where it's been a common way of indicating that a problem has been resolved or arrangements have been made since the 1980s.",
                english: "Problem solved/arranged",
                french: "R√©gl√©/arrang√©"
            },
            {
                id: 29,
                expression: "Tidy job",
                meaning: "Well done or good work.",
                history: "This expression combines the Welsh use of 'tidy' meaning good with 'job' to create praise for work well done. It's been common in Welsh workplaces and communities since the early 20th century, particularly in industrial areas.",
                english: "Well done/good work",
                french: "Bon travail/bien fait"
            },
            {
                id: 30,
                expression: "Daft as a brush",
                meaning: "Very silly or stupid.",
                history: "This colorful expression comparing someone to a brush (implying they have no more sense than an inanimate object) has been popular in Wales since the early 20th century. It's usually used with affection rather than malice.",
                english: "Very silly/stupid",
                french: "Compl√®tement idiot/b√™te"
            },
            {
                id: 31,
                expression: "Presh",
                meaning: "Precious or sweet (often used for children).",
                history: "A shortened form of 'precious', 'presh' is commonly used in Wales when referring to children or anything considered cute and endearing. It demonstrates the Welsh tendency to create affectionate diminutives.",
                english: "Precious/sweet/cute",
                french: "Pr√©cieux/mignon/adorable"
            },
            {
                id: 32,
                expression: "Iechyd da",
                meaning: "Good health (used as a toast).",
                history: "This Welsh toast meaning 'good health' is commonly used in Welsh pubs and social gatherings. Even non-Welsh speakers often learn this phrase as a way of participating in Welsh cultural traditions during celebrations.",
                english: "Good health/cheers",
                french: "√Ä votre sant√©/sant√©"
            },
            {
                id: 33,
                expression: "Bach",
                meaning: "Small or little (used as a term of endearment).",
                history: "From the Welsh word 'bach' meaning small, this is commonly used as a term of endearment throughout Wales. It can be added to names (like 'Sian bach') or used alone to show affection, regardless of the person's actual size.",
                english: "Little one/dear",
                french: "Petit/ch√©ri"
            },
            {
                id: 34,
                expression: "Cariad",
                meaning: "Love or darling (term of endearment).",
                history: "The Welsh word for love, 'cariad' is widely used throughout Wales as a term of endearment. It's used between romantic partners, family members, and friends, and has maintained its place in Welsh English as an expression of affection.",
                english: "Love/darling/sweetheart",
                french: "Amour/ch√©ri/ch√©rie"
            },
            {
                id: 35,
                expression: "Lovely jubly",
                meaning: "Excellent or wonderful.",
                history: "This enthusiastic expression of approval became popular in Wales during the late 20th century. It combines 'lovely' with the made-up word 'jubly' to create an emphatic expression of satisfaction or delight.",
                english: "Excellent/wonderful",
                french: "Excellent/merveilleux"
            },
            {
                id: 36,
                expression: "Stop flatching",
                meaning: "Stop fidgeting or messing about.",
                history: "This Welsh expression for fidgeting or restless movement has been used for generations, particularly when addressing children. The word 'flatch' perfectly captures the annoying quality of constant unnecessary movement.",
                english: "Stop fidgeting/messing about",
                french: "Arr√™te de bouger/gigoter"
            },
            {
                id: 37,
                expression: "Cwtching up",
                meaning: "Snuggling up or getting cozy.",
                history: "This expression uses the Welsh 'cwtch' as a verb, meaning to snuggle or get cozy with someone. It's particularly used to describe settling in comfortably, whether with a person, a pet, or just getting comfortable on the sofa.",
                english: "Snuggling up/getting cozy",
                french: "Se blottir/se mettre √† l'aise"
            },
            {
                id: 38,
                expression: "Whose go is it?",
                meaning: "Whose turn is it?",
                history: "This Welsh way of asking whose turn it is reflects a slightly different grammatical construction that's common in Welsh English. While perfectly understood, it demonstrates the subtle ways Welsh grammar influences local English usage.",
                english: "Whose turn is it?",
                french: "√Ä qui le tour ?"
            },
            {
                id: 39,
                expression: "Tew",
                meaning: "Fat or overweight.",
                history: "From the Welsh word 'tew' meaning fat, this expression has crossed into Welsh English and is commonly used throughout Wales. It's often used more matter-of-factly than the English equivalent, without necessarily being offensive.",
                english: "Fat/overweight",
                french: "Gros/en surpoids"
            },
            {
                id: 40,
                expression: "Gog",
                meaning: "Someone from North Wales.",
                history: "Short for 'Gogleddwr' (North Walian), 'Gog' is used to refer to people from North Wales. While sometimes used disparagingly by South Walians, many North Walians have embraced the term with pride.",
                english: "North Walian",
                french: "Gallois du Nord"
            },
            {
                id: 41,
                expression: "Hwyl",
                meaning: "Goodbye (literally means 'sail' but used as farewell).",
                history: "This Welsh word originally meant 'sail' but evolved to mean the emotional fervor of a good speech or performance, and eventually became a way of saying goodbye. It embodies the Welsh concept of emotional intensity and passion.",
                english: "Goodbye/farewell",
                french: "Au revoir/adieu"
            },
            {
                id: 42,
                expression: "Cwrw",
                meaning: "Beer.",
                history: "The Welsh word for beer, 'cwrw' is still commonly used in Welsh pubs and social settings. Even among primarily English speakers, using 'cwrw' shows connection to Welsh culture and adds authenticity to pub conversations.",
                english: "Beer",
                french: "Bi√®re"
            },
            {
                id: 43,
                expression: "Reit then",
                meaning: "Right then or okay then (used to start or conclude something).",
                history: "This Welsh pronunciation of 'right then' demonstrates the distinctive Welsh accent and speech patterns. It's commonly used to signal the start of an activity or to conclude a conversation or discussion.",
                english: "Right then/okay then",
                french: "Bon alors/d'accord alors"
            },
            {
                id: 44,
                expression: "Cael hwyl",
                meaning: "Having a good time or enjoying oneself.",
                history: "This Welsh phrase meaning 'having a good time' uses 'hwyl' in its sense of enthusiasm and joy. It's commonly used to describe having fun at parties, gatherings, or any enjoyable activity.",
                english: "Having a good time",
                french: "S'amuser/passer du bon temps"
            },
            {
                id: 45,
                expression: "Mochyn",
                meaning: "Pig (sometimes used playfully as an insult).",
                history: "The Welsh word for pig, 'mochyn' is sometimes used as a playful insult, similar to calling someone a pig in English. It's usually used affectionately among friends rather than as a serious insult.",
                english: "Pig (playful insult)",
                french: "Cochon (insulte amicale)"
            },
            {
                id: 46,
                expression: "Dim problem",
                meaning: "No problem.",
                history: "This phrase mixes Welsh 'dim' (no/nothing) with English 'problem' to create a bilingual expression meaning 'no problem'. It's commonly used in Wales and demonstrates how Welsh and English naturally blend in conversation.",
                english: "No problem",
                french: "Pas de probl√®me"
            },
            {
                id: 47,
                expression: "Nawr te",
                meaning: "Now then (used to get attention or start something).",
                history: "This Welsh expression meaning 'now then' is used to get attention or signal the start of something. It's commonly used by teachers, parents, and in public speaking to gather people's attention before making an announcement.",
                english: "Now then/right then",
                french: "Bon alors/maintenant"
            },
            {
                id: 48,
                expression: "Cymru am byth",
                meaning: "Wales forever.",
                history: "This passionate Welsh declaration meaning 'Wales forever' is used to express Welsh patriotism and pride. It's commonly heard at rugby matches, national celebrations, and any time Welsh people want to express their love for their country.",
                english: "Wales forever",
                french: "Le Pays de Galles pour toujours"
            },
            {
                id: 49,
                expression: "Bendigedig",
                meaning: "Wonderful or blessed.",
                history: "This Welsh word meaning 'wonderful' or 'blessed' is often used to express admiration or approval. Even non-Welsh speakers sometimes learn this word as it perfectly captures the sense of something being truly excellent or blessed.",
                english: "Wonderful/blessed",
                french: "Merveilleux/b√©ni"
            },
            {
                id: 50,
                expression: "Hiraeth",
                meaning: "A deep longing for home, particularly for Wales.",
                history: "Perhaps the most famous untranslatable Welsh word, 'hiraeth' describes a profound sense of longing for home, especially Wales. It goes beyond simple homesickness to encompass a deep emotional connection to place, culture, and belonging that is central to the Welsh experience.",
                english: "Deep longing for home/Wales",
                french: "Nostalgie profonde du pays natal"
            }
        ];
        
        // DOM elements
        const searchInput = document.getElementById('searchInput');
        const gridView = document.getElementById('gridView');
        const listView = document.getElementById('listView');
        const lexiconGrid = document.getElementById('lexiconGrid');
        const lexiconList = document.getElementById('lexiconList');
        const displayedCount = document.getElementById('displayedExpressions');
        const expressionModal = document.getElementById('expressionModal');
        const closeModal = document.getElementById('closeModal');
        
        // Modal elements
        const modalNumber = document.getElementById('modalNumber');
        const modalTitle = document.getElementById('modalTitle');
        const modalMeaning = document.getElementById('modalMeaning');
        const modalHistory = document.getElementById('modalHistory');
        const modalEnglish = document.getElementById('modalEnglish');
        const modalFrench = document.getElementById('modalFrench');
        
        let currentView = 'grid';
        let filteredExpressions = [...expressions];
        
        // Initialize the lexicon
        function init() {
            renderExpressions();
            setupEventListeners();
        }
        
        // Setup event listeners
        function setupEventListeners() {
            searchInput.addEventListener('input', handleSearch);
            gridView.addEventListener('click', () => switchView('grid'));
            listView.addEventListener('click', () => switchView('list'));
            closeModal.addEventListener('click', closeExpressionModal);
            
            // Close modal when clicking outside
            expressionModal.addEventListener('click', (e) => {
                if (e.target === expressionModal) {
                    closeExpressionModal();
                }
            });
            
            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && expressionModal.style.display === 'flex') {
                    closeExpressionModal();
                }
            });
        }
        
        // Open expression modal
        function openExpressionModal(expression) {
            modalNumber.textContent = expression.id;
            modalTitle.textContent = expression.expression;
            modalMeaning.textContent = expression.meaning;
            modalHistory.textContent = expression.history;
            modalEnglish.textContent = expression.english;
            modalFrench.textContent = expression.french;
            
            expressionModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        
        // Close expression modal
        function closeExpressionModal() {
            expressionModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Handle search functionality
        function handleSearch(e) {
            const searchTerm = e.target.value.toLowerCase();
            filteredExpressions = expressions.filter(expr => 
                expr.expression.toLowerCase().includes(searchTerm) ||
                expr.meaning.toLowerCase().includes(searchTerm) ||
                expr.english.toLowerCase().includes(searchTerm) ||
                expr.french.toLowerCase().includes(searchTerm)
            );
            renderExpressions();
            updateDisplayedCount();
        }
        
        // Switch between grid and list views
        function switchView(view) {
            currentView = view;
            
            if (view === 'grid') {
                gridView.classList.add('active');
                listView.classList.remove('active');
                lexiconGrid.style.display = 'grid';
                lexiconList.style.display = 'none';
            } else {
                listView.classList.add('active');
                gridView.classList.remove('active');
                lexiconGrid.style.display = 'none';
                lexiconList.style.display = 'block';
            }
            
            renderExpressions();
        }
        
        // Render expressions based on current view
        function renderExpressions() {
            if (currentView === 'grid') {
                renderGridView();
            } else {
                renderListView();
            }
        }
        
        // Render grid view
        function renderGridView() {
            if (filteredExpressions.length === 0) {
                lexiconGrid.innerHTML = '<div class="no-results">No expressions found matching your search.</div>';
                return;
            }
            
            lexiconGrid.innerHTML = filteredExpressions.map(expr => `
                <div class="expression-card clickable" onclick="openExpressionModal(expressions.find(e => e.id === ${expr.id}))">
                    <div class="expression-header">
                        <div class="expression-number">${expr.id}</div>
                        <div class="expression-title">${expr.expression}</div>
                    </div>
                    <div class="expression-meaning">${expr.meaning}</div>
                    <div class="expression-history">${expr.history.length > 150 ? expr.history.substring(0, 150) + '...' : expr.history}</div>
                    <div class="translations">
                        <div class="translation english">
                            <div class="translation-label">English</div>
                            <div>${expr.english}</div>
                        </div>
                        <div class="translation french">
                            <div class="translation-label">Fran√ßais</div>
                            <div>${expr.french}</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        // Render list view
        function renderListView() {
            if (filteredExpressions.length === 0) {
                lexiconList.innerHTML = '<div class="no-results">No expressions found matching your search.</div>';
                return;
            }
            
            lexiconList.innerHTML = filteredExpressions.map(expr => `
                <div class="list-item clickable" onclick="openExpressionModal(expressions.find(e => e.id === ${expr.id}))">
                    <div class="list-number">${expr.id}</div>
                    <div class="list-content">
                        <div class="list-title">${expr.expression}</div>
                        <div class="list-meaning">${expr.meaning}</div>
                    </div>
                </div>
            `).join('');
        }
        
        // Update displayed count
        function updateDisplayedCount() {
            displayedCount.textContent = filteredExpressions.length;
        }
        
        // Initialize the application
        init();
    </script>
</body>
</html>